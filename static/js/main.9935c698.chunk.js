(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{29:function(e,t,n){e.exports=n(44)},34:function(e,t,n){},37:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(24),l=n.n(c),o=(n(34),n(17)),u=n.n(o),i=n(20),s=n(9),m=n(14),d=(n(36),n(15)),b=n(12),p=n(11);n(37);function E(){var e=Object(m.a)(["\n  mutation updatePerson($id: String!, $input: PersonInput!) {\n    updatePerson(id: $id, input: $input) {\n      id\n      name\n      email\n    }\n  }\n"]);return E=function(){return e},e}var f=Object(p.b)(E());var v=function(e){var t=Object(b.a)(f),n=Object(s.a)(t,1)[0],c=Object(a.useState)(-1),l=Object(s.a)(c,2),o=l[0],u=l[1],i=Object(a.useState)(""),m=Object(s.a)(i,2),p=m[0],E=m[1],v=Object(a.useState)(""),g=Object(s.a)(v,2),j=g[0],O=g[1];return e.data.persons.map((function(t,a){var c=t.id,l=t.name,i=t.email,s=t.friend;return r.a.createElement("tr",{key:c,id:c},r.a.createElement("td",null,o!==a?l:r.a.createElement("input",{className:"Fade",value:p,onChange:function(e){return E(e.target.value)}})),r.a.createElement("td",null,o!==a?i:r.a.createElement("input",{className:"Fade",value:j,onChange:function(e){return O(e.target.value)}})),r.a.createElement("td",null,s),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-warning Fade",onClick:function(){o===a?u(-1):(u(a),E(l),O(i))}},r.a.createElement(d.c,{style:{backgroundColor:"#fbc118"}})),o===a?r.a.createElement("button",{className:"btn btn-success ml-2 Fade",onClick:function(){n({variables:{id:c,input:{name:p,email:j}}}),u(-1)}},r.a.createElement(d.d,{style:{backgroundColor:"#57a845"}})):null,r.a.createElement("button",{className:"btn btn-danger ml-2 Fade",onClick:function(){return e.delete({variables:{id:c}})}},r.a.createElement(d.e,{style:{backgroundColor:"#dd4b44"}}))))}))},g=(n(41),function(e){return e.loading||e.loadingSort?r.a.createElement("p",null,"Loading..."):e.error?r.a.createElement("p",null,"Error :("):e.data&&0===e.data.persons.length?r.a.createElement("p",null," "):r.a.createElement("table",{className:"PersonTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"E-mail"),r.a.createElement("th",null,"Amigo"),r.a.createElement("th",null,"A\xe7\xf5es"))),r.a.createElement("tbody",null,r.a.createElement(v,{data:e.data,delete:e.delete})))});n(42);function j(){var e=Object(m.a)(["\n  mutation sortFriend {\n    sortFriend {\n      id\n      name\n      email\n      friend\n    }\n  }\n"]);return j=function(){return e},e}function O(){var e=Object(m.a)(["\n  mutation createPerson($input: PersonInput!) {\n    createPerson(input: $input) {\n      id\n      name\n      email\n      friend\n    }\n  }\n"]);return O=function(){return e},e}function h(){var e=Object(m.a)(["\n  {\n    persons {\n      id\n      name\n      email\n      friend\n    }\n  }\n"]);return h=function(){return e},e}function N(){var e=Object(m.a)(["\n  mutation deletePerson($id: String!) {\n    deletePerson(id: $id) {\n      id\n      name\n      email\n    }\n  }\n"]);return N=function(){return e},e}var y=Object(p.b)(N()),C=Object(p.b)(h()),k=Object(p.b)(O()),w=Object(p.b)(j());var P=function(){var e=Object(b.b)(C),t=e.loading,n=e.error,c=e.data,l=Object(b.a)(k,{update:function(e,t){var n=t.data.createPerson,a=e.readQuery({query:C}).persons;e.writeQuery({query:C,data:{persons:a.concat([n])}})}}),o=Object(s.a)(l,1)[0],m=Object(b.a)(w,{update:function(e,t){return Object(i.a)(u.a.mark((function n(){var a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.data.sortFriend,n.next=3,e.writeQuery({query:C,data:{persons:a}});case 3:case"end":return n.stop()}}),n)})))()}}),p=Object(s.a)(m,2),E=p[0],f=p[1].loading,v=Object(b.a)(y,{update:function(e,t){return Object(i.a)(u.a.mark((function n(){var a,r,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.data.deletePerson,r=e.readQuery({query:C}),c=r.persons,n.next=4,c.map((function(e,t){return e.id===a.id?c.splice(t,1):e}));case 4:e.writeQuery({query:C,data:{persons:c}});case 5:case"end":return n.stop()}}),n)})))()}}),j=Object(s.a)(v,1)[0],O=Object(a.useState)(""),h=Object(s.a)(O,2),N=h[0],P=h[1],S=Object(a.useState)(""),F=Object(s.a)(S,2),x=F[0],$=F[1];return r.a.createElement("div",{className:"Geral"},r.a.createElement("div",{className:"Logo"},r.a.createElement(d.b,{size:150,className:"icon"}),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nome"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:N,onChange:function(e){return P(e.target.value)},placeholder:"Digite o nome..."}))),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"E-mail"),r.a.createElement("input",{type:"text",className:"form-control",name:"email",value:x,onChange:function(e){return $(e.target.value)},placeholder:"Digite o e-mail..."})))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 d-flex justify-content-end"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return o({variables:{input:{name:N,email:x}}})}},"Adicionar a lista"),r.a.createElement("button",{className:"btn btn-secondary ml-2",onClick:function(e){$(""),P("")}},"Cancelar"),r.a.createElement("button",{className:"btn btn-success ml-2",onClick:function(){c&&c.persons&&c.persons.length>1&&E()}},"Sortear e enviar email"))))),r.a.createElement("div",{className:"App"},r.a.createElement(g,{data:c,loading:t,loadingSort:f,error:n,delete:j})),r.a.createElement("div",{className:"Footer"},"Produzido com carinho por Luiz Carlos - para ver o c\xf3digo \xa0 ","  ",r.a.createElement("a",{href:"https://github.com/LuizCarlosAbbott/ad-2019/"}," ","acesse",r.a.createElement(d.a,null))," "))},S=n(7),F=new p.a({uri:"https://salty-escarpment-39557.herokuapp.com/graphql"});l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S.a,{client:F},r.a.createElement(P,null))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.9935c698.chunk.js.map