(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{29:function(e,t,n){e.exports=n(44)},34:function(e,t,n){},37:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),l=n(23),c=n.n(l),o=(n(34),n(19)),i=n.n(o),u=n(24),m=n(9),s=n(14),d=(n(36),n(15)),b=n(12),p=n(11);n(37);function E(){var e=Object(s.a)(["\n  mutation updatePerson($id: String!, $input: PersonInput!) {\n    updatePerson(id: $id, input: $input) {\n      id\n      name\n      email\n    }\n  }\n"]);return E=function(){return e},e}var f=Object(p.b)(E());var v=function(e){var t=Object(b.a)(f),n=Object(m.a)(t,1)[0],l=Object(a.useState)(-1),c=Object(m.a)(l,2),o=c[0],i=c[1],u=Object(a.useState)(""),s=Object(m.a)(u,2),p=s[0],E=s[1],v=Object(a.useState)(""),g=Object(m.a)(v,2),j=g[0],O=g[1];return e.data.persons.map((function(t,a){var l=t.id,c=t.name,u=t.email,m=t.friend;return r.a.createElement("tr",{key:l,id:l},r.a.createElement("td",null,o!==a?c:r.a.createElement("input",{className:"Fade",value:p,onChange:function(e){return E(e.target.value)}})),r.a.createElement("td",null,o!==a?u:r.a.createElement("input",{className:"Fade",value:j,onChange:function(e){return O(e.target.value)}})),r.a.createElement("td",null,m),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-warning Fade",onClick:function(){o===a?i(-1):(i(a),E(c),O(u))}},r.a.createElement(d.c,{style:{backgroundColor:"#fbc118"}})),o===a?r.a.createElement("button",{className:"btn btn-success ml-2 Fade",onClick:function(){n({variables:{id:l,input:{name:p,email:j}}}),i(-1)}},r.a.createElement(d.d,{style:{backgroundColor:"#57a845"}})):null,r.a.createElement("button",{className:"btn btn-danger ml-2 Fade",onClick:function(){return e.delete({variables:{id:l}})}},r.a.createElement(d.e,{style:{backgroundColor:"#dd4b44"}}))))}))},g=(n(41),function(e){return e.loading||e.loadingSort?r.a.createElement("p",null,"Loading..."):e.error?r.a.createElement("p",null,"Error :("):r.a.createElement("table",{className:"PersonTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nome"),r.a.createElement("th",null,"E-mail"),r.a.createElement("th",null,"Amigo"),r.a.createElement("th",null,"A\xe7\xf5es"))),r.a.createElement("tbody",null,r.a.createElement(v,{data:e.data,delete:e.delete})))});n(42);function j(){var e=Object(s.a)(["\n  mutation sortFriend {\n    sortFriend {\n      id\n      name\n      email\n      friend\n    }\n  }\n"]);return j=function(){return e},e}function O(){var e=Object(s.a)(["\n  mutation createPerson($input: PersonInput!) {\n    createPerson(input: $input) {\n      id\n      name\n      email\n      friend\n    }\n  }\n"]);return O=function(){return e},e}function N(){var e=Object(s.a)(["\n  {\n    persons {\n      id\n      name\n      email\n      friend\n    }\n  }\n"]);return N=function(){return e},e}function h(){var e=Object(s.a)(["\n  mutation deletePerson($id: String!) {\n    deletePerson(id: $id) {\n      id\n      name\n      email\n    }\n  }\n"]);return h=function(){return e},e}var y=Object(p.b)(h()),C=Object(p.b)(N()),k=Object(p.b)(O()),P=Object(p.b)(j());var w=function(){var e=Object(b.b)(C),t=e.loading,n=e.error,l=e.data,c=Object(b.a)(k,{update:function(e,t){var n=t.data.createPerson,a=e.readQuery({query:C}).persons;e.writeQuery({query:C,data:{persons:a.concat([n])}})}}),o=Object(m.a)(c,1)[0],s=Object(b.a)(P,{update:function(e,t){var n=t.data.sortFriend;e.writeQuery({query:C,data:{persons:n.data.persons}})}}),p=Object(m.a)(s,2),E=p[0],f=p[1].loading,v=Object(b.a)(y,{update:function(e,t){return Object(u.a)(i.a.mark((function n(){var a,r,l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.data.deletePerson,r=e.readQuery({query:C}),l=r.persons,n.next=4,l.map((function(e,t){return e.id===a.id?l.splice(t,1):e}));case 4:e.writeQuery({query:C,data:{persons:l}});case 5:case"end":return n.stop()}}),n)})))()}}),j=Object(m.a)(v,1)[0],O=Object(a.useState)(""),N=Object(m.a)(O,2),h=N[0],w=N[1],S=Object(a.useState)(""),F=Object(m.a)(S,2),$=F[0],q=F[1];return r.a.createElement("div",{className:"Geral"},r.a.createElement("div",{className:"Logo"},r.a.createElement(d.b,{size:150,className:"icon"}),r.a.createElement("div",{className:"form"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Nome"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:h,onChange:function(e){return w(e.target.value)},placeholder:"Digite o nome..."}))),r.a.createElement("div",{className:"col-12 col-md-6"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"E-mail"),r.a.createElement("input",{type:"text",className:"form-control",name:"email",value:$,onChange:function(e){return q(e.target.value)},placeholder:"Digite o e-mail..."})))),r.a.createElement("hr",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 d-flex justify-content-end"},r.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return o({variables:{input:{name:h,email:$}}})}},"Adicionar a lista"),r.a.createElement("button",{className:"btn btn-secondary ml-2",onClick:function(e){q(""),w("")}},"Cancelar"),r.a.createElement("button",{className:"btn btn-success ml-2",onClick:function(){l&&l.persons&&l.persons.length>1&&E()}},"Sortear e enviar email"))))),r.a.createElement("div",{className:"App"},r.a.createElement(g,{data:l,loading:t,loadingSort:f,error:n,delete:j})),r.a.createElement("div",{className:"Footer"},"Produzido com carinho por Luiz Carlos - para ver o c\xf3digo \xa0 ","  ",r.a.createElement("a",{href:"https://github.com/LuizCarlosAbbott/ad-2019/"}," ","acesse",r.a.createElement(d.a,null))," "))},S=n(7),F=new p.a({uri:"https://salty-escarpment-39557.herokuapp.com/graphql"});c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S.a,{client:F},r.a.createElement(w,null))),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.78f9bd6c.chunk.js.map